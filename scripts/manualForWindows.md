# PDF Uploader Application Setup (Windows)

This guide will help you set up and package the provided Python script as a standalone executable on a Windows machine.

## Prerequisites

1. **Python**: Ensure Python is installed on your Windows machine. You can check by running:

    ```bash
    python --version
    ```

    If Python is not installed, download and install it from [python.org](https://www.python.org/downloads/). Be sure to check the "Add Python to PATH" option during installation.

2. **Supabase Credentials**: You will need your Supabase credentials (URL, API keys, bucket name, and table name) for the app to function properly. These will be stored in a `.env` file.

## Project Setup

1. **Create the Project Directory**:

    - Create a folder for your project, and navigate to it.

2. **Create `requirements.txt`**:

    - Create a file named `requirements.txt` with the following contents:
        ```txt
        PyQt5==5.15.9
        python-dotenv==1.0.0
        supabase==0.1.10
        ```

3. **Install the Required Packages**:

    - Open a command prompt in your project folder and run:
        ```bash
        pip install -r requirements.txt
        ```

4. **Install PyInstaller**:

    - PyInstaller will convert your Python script into a standalone executable. Install it by running:
        ```bash
        pip install pyinstaller
        ```

5. **Create `.env` File**:
    - Create a `.env` file in the same folder as your script and add your Supabase credentials:
        ```env
        VITE_SUPABASE_URL=your_supabase_url
        VITE_SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
        VITE_SUPABASE_BUCKET_NAME=your_bucket_name
        VITE_SUPABASE_RELATED_BUCKET_TABLE_NAME=your_table_name
        ```

## Packaging the Script as an Executable

1. **Run PyInstaller**:

    - Use PyInstaller to create a standalone executable from your Python script:

        ```bash
        pyinstaller --onefile --windowed uploadPdfsToTable.py
        ```

        - `--onefile`: Packages everything into a single executable file.
        - `--windowed`: Suppresses the command line window (for GUI applications).

2. **Locate the Executable**:

    - After the build process, the `.exe` file will be located in the `dist` folder within your project directory.

3. **Distribute the Executable**:
    - Copy the `.exe` file and the `.env` file to the desired location. Ensure that the `.env` file is in the same directory as the executable to provide the necessary environment variables.

## Running the Executable

1. **Double-click the Executable**:

    - Navigate to the directory where the executable is located, and double-click the `.exe` file to launch the application.

2. **Upload PDFs and Manage Data**:
    - Once the application is running, use the interface to upload PDFs to Supabase and enter the related `name` and `href` fields.

## Summary of Files

-   **Python Script**: `uploadPdfsToTable.py` (the code for the PDF uploader)
-   **Environment Variables**: `.env` (containing your Supabase credentials)
-   **Requirements**: `requirements.txt` (for package installation)
-   **Executable**: The `.exe` file generated by PyInstaller in the `dist` folder

## Troubleshooting

-   If the executable does not work as expected, ensure the `.env` file is properly configured and located in the same directory as the executable.
-   You can check the logs in the command prompt or use the `--console` option in PyInstaller if you want to view debug information:
    ```bash
    pyinstaller --onefile --console uploadPdfsToTable.py
    ```

---

Once everything is set up, your application should be ready for use on any Windows machine, and you can distribute the executable file as needed.
